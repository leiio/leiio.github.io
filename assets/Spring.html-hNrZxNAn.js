import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as p,c,b as t,a as s,w as o,d as n,f as r}from"./app-BGG14fOW.js";const d="/images/spring-web-client.png",u={},g=t("h1",{id:"spring",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#spring","aria-hidden":"true"},"#"),n(" Spring")],-1),h={class:"table-of-contents"},b=t("h2",{id:"flag",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#flag","aria-hidden":"true"},"#"),n(" Flag")],-1),k={href:"https://github.com/ityouknow/ityouknow.github.io/blob/master/_posts/2019/releases/2019-01-03-spring-pivotal.md",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/topics/spring",target:"_blank",rel:"noopener noreferrer"},_={href:"https://github.com/topics/spring-boot",target:"_blank",rel:"noopener noreferrer"},f={href:"https://github.com/topics/spring-cloud",target:"_blank",rel:"noopener noreferrer"},v={href:"https://github.com/spring-projects",target:"_blank",rel:"noopener noreferrer"},S={href:"https://spring.io/projects",target:"_blank",rel:"noopener noreferrer"},y={href:"https://github.com/spring-projects-experimental",target:"_blank",rel:"noopener noreferrer"},w={href:"https://github.com/spring-guides",target:"_blank",rel:"noopener noreferrer"},C={href:"https://github.com/fmarchioni/masterspringboot",target:"_blank",rel:"noopener noreferrer"},A={href:"https://github.com/wuyouzhuguli/SpringAll",target:"_blank",rel:"noopener noreferrer"},E={href:"http://www.spring4all.com",target:"_blank",rel:"noopener noreferrer"},q={href:"https://github.com/mingyang66/spring-parent",target:"_blank",rel:"noopener noreferrer"},x={href:"https://github.com/seaswalker/spring-analysis",target:"_blank",rel:"noopener noreferrer"},R={href:"https://github.com/PotoYang/spring-in-action-v5-translate",target:"_blank",rel:"noopener noreferrer"},j={href:"https://github.com/dunwu/spring-tutorial",target:"_blank",rel:"noopener noreferrer"},B={href:"https://www.jianshu.com/p/9fa24196d2ad",target:"_blank",rel:"noopener noreferrer"},D={href:"https://www.cnblogs.com/top-housekeeper/p/11980973.html",target:"_blank",rel:"noopener noreferrer"},P={href:"https://blog.csdn.net/qq_34626094/category_11731455.html",target:"_blank",rel:"noopener noreferrer"},T=r('<p><strong>webmvc与webflux</strong></p><details><summary><b>展开查看示例结构</b></summary><img src="'+d+'" alt></details><ul><li>webmvc是servlet stack based，基于同步阻塞的IO模型 <ul><li>在<code>org.springframework.web</code>包下</li><li><code>artifactId</code>：<code>spring-boot-starter-web</code></li><li><code>RestTemplate</code> 阻塞式客户端，默认使用<code>HttpURLConnection</code>实现</li></ul></li><li>webflux是reactive stack based，一个完全的reactive并且非阻塞的web框架，API公开了<code>Reactor Flux</code>和<code>Mono</code>类型 <ul><li>在<code>org.springframework.web.reactive</code>包下</li><li><code>artifactId</code>：<code>spring-boot-starter-webflux</code></li><li><code>WebClient</code> 非阻塞式客户端，默认使用<code>Reactor Netty</code>实现</li></ul></li></ul>',3),M={href:"https://blog.csdn.net/get_set/article/details/79480233",target:"_blank",rel:"noopener noreferrer"},I={href:"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-framework-choice",target:"_blank",rel:"noopener noreferrer"},O=r("<p><strong>注解生成Bean默认命名规则</strong></p><blockquote><p>在使用<code>@Component</code>、<code>@Repository</code>、<code>@Service</code>、<code>@Controller</code>等注解创建bean时，如果不指定bean名称，默认类名的首字母小写</p></blockquote><blockquote><p>如果类名前两个及以上字母都是大写，那么bean名称与类名一样，如： RBACAuthorityService - RBACAuthorityService</p></blockquote>",3),L={href:"https://github.com/cznno/doc/blob/master/doc/%E4%BF%AE%E6%94%B9Spring%E6%B3%A8%E8%A7%A3%E7%94%9F%E6%88%90Bean%E6%97%B6%E5%80%99%E7%9A%84%E5%91%BD%E5%90%8D%E6%96%B9%E5%BC%8F.md",target:"_blank",rel:"noopener noreferrer"},N=t("p",null,[t("strong",null,"启动错误")],-1),z=t("blockquote",null,[t("p",null,[t("code",null,"NoClassDefFoundError: Could not initialize class org.springframework.beans.factory.BeanCreationException")]),t("p",null,[n("可能是内存大小不够，加参数："),t("code",null,"-Xms1024M -Xmx2048M -XX:MetaspaceSize=512m -XX:MaxMetaspaceSize=2048m -Xss5120k")])],-1),J=t("h2",{id:"事务",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#事务","aria-hidden":"true"},"#"),n(" 事务")],-1),F={href:"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Propagation.html",target:"_blank",rel:"noopener noreferrer"},V={href:"https://blog.csdn.net/qq_42216791/article/details/105684663",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://blog.csdn.net/f641385712/article/details/80445912",target:"_blank",rel:"noopener noreferrer"},U={href:"https://zhuanlan.zhihu.com/p/69215235",target:"_blank",rel:"noopener noreferrer"},W={href:"https://blog.csdn.net/levae1024/article/details/82998386",target:"_blank",rel:"noopener noreferrer"},H={href:"https://blog.csdn.net/m0_37701381/article/details/85066711",target:"_blank",rel:"noopener noreferrer"},K={href:"https://blog.csdn.net/qq_32300143/article/details/116162515",target:"_blank",rel:"noopener noreferrer"},G=r(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">/*
Propagation.REQUIRED	如果当前存在事务，则加入该事务；如果当前没有事务，则创建一个新的事务。这是默认值。
Propagation.REQUIRES_NEW	创建一个新的事务，如果当前存在事务，则把当前事务挂起。
Propagation.SUPPORTS	如果当前存在事务，则加入该事务；如果当前没有事务，则以非事务的方式继续运行。
Propagation.NOT_SUPPORTED	以非事务方式运行，如果当前存在事务，则把当前事务挂起。
Propagation.NEVER	以非事务方式运行，如果当前存在事务，则抛出异常。
Propagation.MANDATORY	如果当前存在事务，则加入该事务；如果当前没有事务，则抛出异常。
Propagation.NESTED	如果当前存在事务，则创建一个事务作为当前事务的嵌套事务来运行；如果当前没有事务，则该取值等价于Propagation.REQUIRED
*/</span>
<span class="token comment">// REQUIRES_NEW 与 NESTED 前者是内层异常影响外层，外层不影响内层；后者正好相反，内层加try catch后 异常不影响外层，外层会影响内层</span>
<span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>rollbackFor <span class="token operator">=</span> <span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> propagation <span class="token operator">=</span> <span class="token class-name">Propagation</span><span class="token punctuation">.</span><span class="token constant">REQUIRES_NEW</span><span class="token punctuation">)</span>


<span class="token comment">// 手动管理事务</span>
<span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">DataSourceTransactionManager</span> transactionManager<span class="token punctuation">;</span>
<span class="token comment">/*@Autowired
private TransactionDefinition transactionDefinition;*/</span>

<span class="token comment">// 设置事务隔离级别，开启新事务</span>
<span class="token class-name">DefaultTransactionDefinition</span> def <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultTransactionDefinition</span><span class="token punctuation">(</span><span class="token class-name">TransactionDefinition</span><span class="token punctuation">.</span><span class="token constant">PROPAGATION_REQUIRES_NEW</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//def.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);</span>

<span class="token comment">// foreach start</span>

<span class="token comment">// 获得事务状态</span>
<span class="token class-name">TransactionStatus</span> status <span class="token operator">=</span> transactionManager<span class="token punctuation">.</span><span class="token function">getTransaction</span><span class="token punctuation">(</span>def<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">TransactionAspectSupport</span><span class="token punctuation">.</span><span class="token function">currentTransactionStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isRollbackOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 获取当前最大事务</span>
        <span class="token class-name">TransactionAspectSupport</span><span class="token punctuation">.</span><span class="token function">currentTransactionStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setRollbackOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 标记事务回滚</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>status<span class="token punctuation">.</span><span class="token function">isRollbackOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        status<span class="token punctuation">.</span><span class="token function">setRollbackOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 标记事务回滚</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// https://www.cnblogs.com/yaohuiqin/p/9486975.html</span>
    transactionManager<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 回滚事务，设置completed为完成状态，清理事务资源</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">!=</span><span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> status<span class="token punctuation">.</span><span class="token function">isNewTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>status<span class="token punctuation">.</span><span class="token function">isCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>status<span class="token punctuation">.</span><span class="token function">isRollbackOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        transactionManager<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 如果rollBackOnly状态被设置将回滚，否则执行正常的事务提交操作</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// foreach end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="依赖注入" tabindex="-1"><a class="header-anchor" href="#依赖注入" aria-hidden="true">#</a> 依赖注入</h2>`,2),X={href:"https://zhuanlan.zhihu.com/p/92395282",target:"_blank",rel:"noopener noreferrer"},Z=t("li",null,"构造器注入适合强制性的注入旨在不变性",-1),Y=t("li",null,"Setter 注入适合可变性的注入。",-1),$=t("li",null,"@Resource",-1),tt=t("li",null,"@Inject",-1),nt={href:"https://juejin.im/post/5e3811d26fb9a07ca24f3e55",target:"_blank",rel:"noopener noreferrer"},st={href:"https://segmentfault.com/a/1190000021044999",target:"_blank",rel:"noopener noreferrer"},at={href:"https://boris1993.github.io/projects/java/coding-tips/idea-warninig-field-injection-is-not-recommended.html",target:"_blank",rel:"noopener noreferrer"},et={href:"https://www.jianshu.com/p/7f20176f2a40",target:"_blank",rel:"noopener noreferrer"},ot={href:"https://www.jianshu.com/p/36db3e167958",target:"_blank",rel:"noopener noreferrer"},rt={href:"https://blog.csdn.net/zhangjingao/article/details/81094529",target:"_blank",rel:"noopener noreferrer"},lt={href:"https://www.cnblogs.com/kismetv/p/8757260.html",target:"_blank",rel:"noopener noreferrer"},it=t("h2",{id:"spring-boot",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#spring-boot","aria-hidden":"true"},"#"),n(" Spring Boot")],-1),pt={href:"https://github.com/dyc87112/SpringBoot-Learning",target:"_blank",rel:"noopener noreferrer"},ct={href:"https://github.com/macrozheng/mall-learning",target:"_blank",rel:"noopener noreferrer"},dt={href:"https://macrozheng.github.io/mall-learning",target:"_blank",rel:"noopener noreferrer"},ut={href:"https://github.com/vector4wang/spring-boot-quick",target:"_blank",rel:"noopener noreferrer"},gt={href:"https://github.com/kanyways/learning-spring",target:"_blank",rel:"noopener noreferrer"},ht={href:"https://github.com/gf-huanchupk/SpringBootLearning",target:"_blank",rel:"noopener noreferrer"},bt={href:"https://github.com/lyb-geek/springboot-learning",target:"_blank",rel:"noopener noreferrer"},kt={href:"https://github.com/xkcoding/spring-boot-demo",target:"_blank",rel:"noopener noreferrer"},mt={href:"https://github.com/xuwujing/springBoot-study",target:"_blank",rel:"noopener noreferrer"},_t={href:"https://github.com/houko/SpringBootUnity",target:"_blank",rel:"noopener noreferrer"},ft={href:"https://github.com/hemin1003/spring-boot-study",target:"_blank",rel:"noopener noreferrer"},vt={href:"https://github.com/smltq/spring-boot-demo",target:"_blank",rel:"noopener noreferrer"},St={href:"https://github.com/liuyueyi/spring-boot-demo",target:"_blank",rel:"noopener noreferrer"},yt={href:"https://github.com/TianShengBingFeiNiuRen/springboot-util",target:"_blank",rel:"noopener noreferrer"},wt={href:"https://github.com/WinterChenS/springboot-learning-experience",target:"_blank",rel:"noopener noreferrer"},Ct={href:"https://www.cnblogs.com/huangqingshi/p/11370291.html",target:"_blank",rel:"noopener noreferrer"},At={href:"https://www.cnblogs.com/exmyth/p/13098831.html",target:"_blank",rel:"noopener noreferrer"},Et={href:"https://juejin.im/post/5ec1d89de51d454ddf2367ab",target:"_blank",rel:"noopener noreferrer"},qt={href:"https://antoniopeng.com/2020/01/03/springboot/Spring%20Boot%20%E7%9B%91%E5%90%AC%20Redis%20Key%20%E5%A4%B1%E6%95%88%E4%BA%8B%E4%BB%B6%E5%AE%9E%E7%8E%B0%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"},xt={href:"https://blog.csdn.net/qq_34347620/article/details/102239179",target:"_blank",rel:"noopener noreferrer"},Rt=r(`<blockquote><p>约定优于配置（convention over configuration），也称作按约定编程，是一种软件设计范式， 旨在减少软件开发人员需做决定的数量，获得简单的好处，而又不失灵活性。</p></blockquote><blockquote><p>开发人员仅需规定应用中不符合约定的部分，在没有规定配置的地方，采用默认配置，以力求最简配置为核心思想</p></blockquote><p><strong>有哪些约定</strong></p><ul><li><p>Maven的目录结构</p><ul><li>默认有<code>resources</code>文件夹,存放资源配置文件。<code>src-main-resources</code>,<code>src-main-java</code>。</li><li>默认编译生成的类都在<code>targe</code>文件夹下面</li></ul></li><li><p>项目默认的配置文件必须是</p><ul><li><code>application</code>前缀命名的<code>yml</code>文件</li><li><code>application</code>前缀命名的<code>properties</code>文件</li></ul></li></ul><h3 id="默认依赖管理" tabindex="-1"><a class="header-anchor" href="#默认依赖管理" aria-hidden="true">#</a> 默认依赖管理</h3><blockquote><p>使用默认依赖管理的目的是：常用的包依赖可以省去version标签。如下：</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>方式一</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- spring-boot-starter-parent 是一个特殊的starter，它用来提供相关的Maven默认依赖 --&gt;</span>
    <span class="token comment">&lt;!--继承spring-boot-dependencies依赖管理，指定了JDK版本，多了编译配置--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>方式二</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--引入spring-boot依赖管理，其中包含多个依赖，如slf4j、logback--&gt;</span>
        <span class="token comment">&lt;!--要使用property的形式覆盖原始的依赖项（升级依赖版本），则需要在此之前添加--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${spring-boot-version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置方式" tabindex="-1"><a class="header-anchor" href="#配置方式" aria-hidden="true">#</a> 配置方式</h3>`,12),jt={href:"https://blog.csdn.net/Happy_cloudlife/article/details/85564667",target:"_blank",rel:"noopener noreferrer"},Bt=t("p",null,[t("strong",null,"Spring Boot Starter")],-1),Dt={href:"https://www.jianshu.com/p/bbf439c8a203",target:"_blank",rel:"noopener noreferrer"},Pt=r('<ul><li>需要在<code>pom.xml</code>中引入为<code>starter</code>的依赖</li><li>然后在<code>application.yml</code>或者<code>application.properties</code>中配置，无需在其他任何地方配置（如<code>xml</code>、<code>Bean</code>）</li></ul><p><strong>Java代码配置Bean</strong></p><ul><li>需要在<code>pom.xml</code>中引入不为<code>starter</code>的依赖</li><li>创建一个配置类，然后使用注解<code>@Configuration</code>在类上，<code>@bean</code>配置方法，方法名是相当于<code>xml</code>配置的<code>id</code>， 返回结果相当于将哪个类注入到bean容器中</li></ul><p><strong>加载自定义xml配置</strong></p><ul><li>需要在<code>pom.xml</code>中引入不为<code>starter</code>的依赖</li><li>在启动类上使用注解<code>@ImportResource(locations={&quot;classpath:配置文件路径})</code>，把自定义的<code>xml</code>配置加载进来</li></ul><p><strong>使用注解获取配置文件中的配置</strong></p><ul><li><code>@Value(&quot;${配置中的属性名}&quot;)</code>用在Bean的域（属性）上，获取默认配置文件中的属性值</li><li><code>@ConfigurationProperties(prefix=&quot;配置中的属性名&quot;)</code>用在类名上，获取默认配置文件中的属性值，用<code>@Resource</code>引入到其他类</li></ul><blockquote><p>必须要让Spring 扫描到该类才能使用，有三种方法：加<code>@Component</code>；创建配置类加<code>@Configuration</code>， 再加<code>@EnableConfigurationProperties(类名.class)</code>或者创建构造器加<code>@Bean</code></p></blockquote><ul><li><code>@PropertySource(&quot;classpath:配置文件路径&quot;)</code>用在类名上，获取默认自定义<code>properties</code>文件中的属性值，用<code>@Resource</code>引入到其他类</li></ul><h2 id="starters" tabindex="-1"><a class="header-anchor" href="#starters" aria-hidden="true">#</a> Starters</h2>',10),Tt={href:"https://start.aliyun.com",target:"_blank",rel:"noopener noreferrer"},Mt={href:"https://github.com/pig-mesh/excel-spring-boot-starter",target:"_blank",rel:"noopener noreferrer"},It=r('<p><strong>application starters</strong></p><blockquote><p>Spring Boot 所有应用程序级的 Starters</p></blockquote><table><thead><tr><th><strong>Starter 名称</strong></th><th><strong>Starter 描述</strong></th></tr></thead><tbody><tr><td>spring-boot-starter</td><td>核心 Starter，包括自动配置、日志及 YAML 支持等</td></tr><tr><td>spring-boot-starter-activemq</td><td>集成 Apache ActiveMQ，基于 JMS 的消息队列</td></tr><tr><td>spring-boot-starter-artemis</td><td>集成 Apache Artemis，基于 JMS 的消息队列</td></tr><tr><td>spring-boot-starter-amqp</td><td>集成 Spring AMQP 和 Rabbit MQ 的消息队列</td></tr><tr><td>spring-boot-starter-aop</td><td>集成 Spring AOP 和 AspectJ 面向切面编程</td></tr><tr><td>spring-boot-starter-batch</td><td>集成 Spring Batch（批处理）</td></tr><tr><td>spring-boot-starter-cache</td><td>集成 Spring Cache（缓存）</td></tr><tr><td>spring-boot-starter-data-cassandra</td><td>集成 Cassandra（分布式数据库） 和 Spring Data Cassandra</td></tr><tr><td>spring-boot-starter-data-cassandra-reactive</td><td>集成 Cassandra（分布式数据库） 和 Spring Data Cassandra Reactive</td></tr><tr><td>spring-boot-starter-data-couchbase</td><td>集成 Couchbase（文档型数据库） 和 Spring Data Couchbase</td></tr><tr><td>spring-boot-starter-data-couchbase-reactive</td><td>集成 Couchbase（文档型数据库） 和 Spring Data Couchbase Reactive</td></tr><tr><td>spring-boot-starter-data-elasticsearch</td><td>集成 Elasticsearch（搜索引擎）和 Spring Data Elasticsearch</td></tr><tr><td>spring-boot-starter-data-solr</td><td>集成 Apache Solr（搜索引擎）结合 Spring Data Solr</td></tr><tr><td>spring-boot-starter-data-jdbc</td><td>集成 Spring Data JDBC</td></tr><tr><td>spring-boot-starter-data-jpa</td><td>集成 Spring Data JPA 结合 Hibernate</td></tr><tr><td>spring-boot-starter-data-ldap</td><td>集成 Spring Data LDAP</td></tr><tr><td>spring-boot-starter-data-mongodb</td><td>集成 MongoDB（文档型数据库）和 Spring Data MongoDB</td></tr><tr><td>spring-boot-starter-data-mongodb-reactive</td><td>集成 MongoDB（文档型数据库）和 Spring Data MongoDB Reactive</td></tr><tr><td>spring-boot-starter-data-neo4j</td><td>集成 Neo4j（图形数据库）和 Spring Data Neo4j</td></tr><tr><td>spring-boot-starter-data-r2dbc</td><td>集成 Spring Data R2DBC</td></tr><tr><td>spring-boot-starter-data-redis</td><td>集成 Redis（内存数据库）结合 Spring Data Redis 和 Lettuce 客户端</td></tr><tr><td>spring-boot-starter-data-redis-reactive</td><td>集成 Redis（内存数据库）结合 Spring Data Redis reactive 和 Lettuce 客户端</td></tr><tr><td>spring-boot-starter-data-rest</td><td>集成 Spring Data REST 暴露 Spring Data repositories 输出 REST 资源</td></tr><tr><td>spring-boot-starter-thymeleaf</td><td>集成 Thymeleaf 视图构建 MVC web 应用</td></tr><tr><td>spring-boot-starter-freemarker</td><td>集成 FreeMarker 视图构建 MVC web 应用</td></tr><tr><td>spring-boot-starter-groovy-templates</td><td>集成 Groovy 模板视图构建 MVC web 应用</td></tr><tr><td>spring-boot-starter-hateoas</td><td>集成 Spring MVC 和 Spring HATEOAS 构建超媒体 RESTful Web 应用程序</td></tr><tr><td>spring-boot-starter-integration</td><td>集成 Spring Integration</td></tr><tr><td>spring-boot-starter-jdbc</td><td>集成 JDBC 结合 HikariCP 连接池</td></tr><tr><td>spring-boot-starter-jersey</td><td>集成 JAX-RS 和 Jersey 构建 RESTful web 应用，是 spring-boot-starter-web 的一个替代 Starter</td></tr><tr><td>spring-boot-starter-jooq</td><td>集成 jOOQ 访问 SQL 数据库，是 spring-boot-starter-data-jpa 或者 spring-boot-starter-jdbc 的替代 Starter</td></tr><tr><td>spring-boot-starter-json</td><td>用于读写 JSON</td></tr><tr><td>spring-boot-starter-jta-atomikos</td><td>集成 Atomikos 实现 JTA 事务</td></tr><tr><td>spring-boot-starter-jta-bitronix</td><td>集成 Bitronix 实现 JTA 事务（ 从 2.3.0 开始标识为 Deprecated）</td></tr><tr><td>spring-boot-starter-mail</td><td>集成 Java Mail 和 Spring 框架的邮件发送功能</td></tr><tr><td>spring-boot-starter-mustache</td><td>集成 Mustache 视图构建 web 应用</td></tr><tr><td>spring-boot-starter-security</td><td>集成 Spring Security</td></tr><tr><td>spring-boot-starter-oauth2-client</td><td>集成 Spring Security’s OAuth2/OpenID 连接客户端功能</td></tr><tr><td>spring-boot-starter-oauth2-resource-server</td><td>集成 Spring Security’s OAuth2 资源服务器功能</td></tr><tr><td>spring-boot-starter-quartz</td><td>集成 Quartz 任务调度</td></tr><tr><td>spring-boot-starter-rsocket</td><td>构建 RSocket 客户端和服务端</td></tr><tr><td>spring-boot-starter-test</td><td>集成 JUnit Jupiter, Hamcrest 和 Mockito 测试 Spring Boot 应用和类库</td></tr><tr><td>spring-boot-starter-validation</td><td>集成 Java Bean Validation 结合 Hibernate Validator</td></tr><tr><td>spring-boot-starter-web</td><td>集成 Spring MVC 构建 RESTful web 应用，使用 Tomcat 作为默认内嵌容器</td></tr><tr><td>spring-boot-starter-web-services</td><td>集成 Spring Web Services</td></tr><tr><td>spring-boot-starter-webflux</td><td>集成 Spring Reactive Web 构建 WebFlux 应用</td></tr><tr><td>spring-boot-starter-websocket</td><td>集成 Spring WebSocket 构建 WebSocket 应用</td></tr></tbody></table><p><strong>production starters</strong></p><blockquote><p>生产级 Starters 能被用于线上/生产功能，这个意味着和任何技术、任何业务没关系，也不是只有生产才能使用，只是在生产环境使用更能体现它的意义。</p></blockquote><table><thead><tr><th><strong>Starter 名称</strong></th><th><strong>Starter 描述</strong></th></tr></thead><tbody><tr><td>spring-boot-starter-actuator</td><td>集成 Spring Boot Actuator，提供生产功能以帮助监控和管理应用程序</td></tr></tbody></table><p><strong>technical starters</strong></p><blockquote><p>技术类 Starters，用于帮助你排除或者替换指定的框架或技术</p></blockquote><table><thead><tr><th><strong>Starter 名称</strong></th><th><strong>Starter 描述</strong></th></tr></thead><tbody><tr><td>spring-boot-starter-jetty</td><td>集成 Jetty 作为内嵌的 servlet 容器，可用于替代 spring-boot-starter-tomcat</td></tr><tr><td>spring-boot-starter-log4j2</td><td>集成 Log4j2 日志框架，可用于替代 spring-boot-starter-logging</td></tr><tr><td>spring-boot-starter-logging</td><td>集成 Logback 日志框架，这个也是默认的日志 Starter</td></tr><tr><td>spring-boot-starter-reactor-netty</td><td>集成 Netty 作为内嵌的响应式 HTTP 服务器</td></tr><tr><td>spring-boot-starter-tomcat</td><td>集成 Tomcat 作为内嵌的 servlet 容器，这也是默认的 servlet 容器 starter 被集成 spring-boot-starter-web 里面</td></tr><tr><td>spring-boot-starter-undertow</td><td>集成 Undertow 作为内嵌的 servlet 容器，可用于替代 spring-boot-starter-tomcat</td></tr></tbody></table><h2 id="spring-cloud" tabindex="-1"><a class="header-anchor" href="#spring-cloud" aria-hidden="true">#</a> Spring Cloud</h2>',10),Ot={href:"https://github.com/spring-cloud",target:"_blank",rel:"noopener noreferrer"},Lt={href:"https://github.com/spring-cloud-samples",target:"_blank",rel:"noopener noreferrer"},Nt={href:"https://github.com/macrozheng/springcloud-learning",target:"_blank",rel:"noopener noreferrer"},zt={href:"https://github.com/dyc87112/SpringCloud-Learning",target:"_blank",rel:"noopener noreferrer"},Jt={href:"https://github.com/gf-huanchupk/SpringCloudLearning",target:"_blank",rel:"noopener noreferrer"},Ft={href:"https://github.com/2227324689/Spring-Cloud-Alibaba-",target:"_blank",rel:"noopener noreferrer"},Vt={href:"https://github.com/SpringCloud",target:"_blank",rel:"noopener noreferrer"},Qt={href:"https://github.com/venusteam",target:"_blank",rel:"noopener noreferrer"},Ut={href:"https://github.com/forezp/SpringCloudLearning",target:"_blank",rel:"noopener noreferrer"},Wt={href:"https://github.com/sqshq/piggymetrics",target:"_blank",rel:"noopener noreferrer"},Ht={href:"https://github.com/huaweicloud",target:"_blank",rel:"noopener noreferrer"},Kt={href:"https://github.com/sofastack",target:"_blank",rel:"noopener noreferrer"},Gt={href:"https://github.com/zlt2000/microservices-platform",target:"_blank",rel:"noopener noreferrer"},Xt={href:"https://github.com/chillzhuang/blade-tool",target:"_blank",rel:"noopener noreferrer"},Zt={href:"https://gitee.com/smallc",target:"_blank",rel:"noopener noreferrer"},Yt={href:"https://zhuanlan.zhihu.com/p/72721025",target:"_blank",rel:"noopener noreferrer"},$t={href:"http://muggle.javaboy.org/2019/04/26/springcloud-1",target:"_blank",rel:"noopener noreferrer"},tn={href:"https://www.jianshu.com/p/31dfb595170c",target:"_blank",rel:"noopener noreferrer"},nn={href:"https://juejin.im/post/5d56204a5188252bd409b5cb",target:"_blank",rel:"noopener noreferrer"},sn={href:"http://blog.didispace.com/spring-cloud-alibaba-version",target:"_blank",rel:"noopener noreferrer"},an={href:"https://www.springcloud.cc",target:"_blank",rel:"noopener noreferrer"},en={href:"http://lidawn.github.io/2018/12/26/distribute-tracing",target:"_blank",rel:"noopener noreferrer"},on={href:"https://juejin.im/post/5de2553e5188256e885f4fa3",target:"_blank",rel:"noopener noreferrer"},rn=t("li",null,[t("p",null,[t("code",null,"bootstrap.yml"),n("（.properties）用来程序引导时执行，应用于更加早期配置信息读取，如可以使用来配置application.yml中使用到参数等")])],-1),ln=r("<blockquote><p><code>bootstrap.yml</code>是被一个父级的<code>Spring ApplicationContext</code>加载的。这个父级的<code>Spring ApplicationContext</code>是先加载的， 在加载<code>application.yml</code>的<code>ApplicationContext</code>之前。</p></blockquote><ul><li><code>application.yml</code>（.properties) 应用程序特有配置信息，可以用来配置后续各个模块中需使用的公共参数等</li></ul>",2),pn={href:"https://github.com/hashicorp/consul",target:"_blank",rel:"noopener noreferrer"},cn={href:"https://portal.cloud.hashicorp.com",target:"_blank",rel:"noopener noreferrer"},dn=r("<table><thead><tr><th>组件</th><th>作用</th><th>替代项目</th><th>说明</th></tr></thead><tbody><tr><td>Alibaba Cloud SchedulerX</td><td>分布式任务调度</td><td>elastic-job、xxl-job</td><td>阿里中间件团队开发的一款分布式任务调度产品，提供秒级、精准、高可靠、高可用的定时（基于 Cron 表达式）任务调度服务（商业组件）。</td></tr><tr><td>Alibaba RocketMQ</td><td></td><td></td><td>一款开源的分布式消息系统，基于高可用分布式集群技术，提供低延时的、高可靠的消息发布与订阅服务。</td></tr><tr><td>Alibaba Seata</td><td></td><td></td><td></td></tr><tr><td>ElasticSearch+LogStash+Kibana</td><td>分布式日志收集</td><td></td><td>logstash（收集）、elasticsearch（存储+搜索）、kibana（展示），我们将这三个组合起来的技术称之为ELK</td></tr><tr><td>Feign</td><td>声明式HTTP客户端</td><td>Retrofit</td><td>基于动态代理机制，根据注解和选择的机器，拼接请求URL地址，发起请求</td></tr><tr><td>Netflix Archaius</td><td>配置管理</td><td></td><td>提供动态类型化属性、线程安全配置操作、轮询框架、回调机制等功能。可以实现动态获取配置</td></tr><tr><td>Netflix Eureka</td><td>服务发现</td><td>Consul、Zookeeper、Alibaba Nacos</td><td>各个服务启动时，Eureka Client都会将服务注册到Eureka Server，并且Eureka Client还可以反过来从Eureka Server拉取注册表，从而知道其他服务在哪里</td></tr><tr><td>Netflix Hystrix</td><td>断路器</td><td>Resilience4j、Alibaba Sentinel</td><td>提供线程池，不同的服务走不同的线程池，实现了不同服务调用的隔离，避免了服务雪崩的问题</td></tr><tr><td>Netflix Zuul</td><td>API网关</td><td>Spring Cloud Gateway</td><td>如果前端、移动端要调用后端系统，统一从Zuul网关进入，由Zuul网关转发请求给对应的服务</td></tr><tr><td>Ribbon</td><td>负载均衡器</td><td>Spring Cloud Loadbalancer</td><td>服务间发起请求的时候，基于Ribbon做负载均衡，从一个服务的多台机器中选择一台</td></tr><tr><td>Spring Cloud Bus</td><td>消息总线</td><td></td><td>将分布式的节点用轻量的消息代理连接起来。它可以用于广播配置文件的更改或者服务之间的通讯，也可以用于监控</td></tr><tr><td>Spring Cloud Cluster</td><td></td><td></td><td>取代Spring Integration。提供在分布式系统中的集群所需要的基础功能支持，如：选举、集群的状态一致性、全局锁、tokens等常见状态模式的抽象和实现。</td></tr><tr><td>Spring Cloud Config</td><td>配置管理</td><td>Ctrip Apollo、Spring Cloud Consul、Zookeeper、Alibaba Nacos</td><td>解决分布式系统的配置管理方案。Server提供配置文件的存储、以接口的形式将配置文件的内容提供出去，Client通过接口获取数据、并依据此数据初始化自己的应用。</td></tr><tr><td>Spring Cloud Connectors</td><td></td><td></td><td>简化了连接到服务的过程和从云平台获取操作的过程，有很强的扩展性，可以利用Spring Cloud Connectors来构建你自己的云平台。</td></tr><tr><td>Spring Cloud for Cloud Foundry</td><td>开源PaaS云平台</td><td></td><td>支持多种框架、语言、运行时环境、云平台及应用服务，使开发人员能够在几秒钟内进行应用程序的部署和扩展</td></tr><tr><td>Spring Cloud Security</td><td>安全框架</td><td></td><td>添加安全控制</td></tr><tr><td>Spring Cloud Sleuth</td><td>分布式链路跟踪</td><td></td><td>日志收集工具包，封装了Dapper和log-based追踪以及Zipkin和HTrace操作，为SpringCloud应用实现了一种分布式追踪解决方案。</td></tr><tr><td>Spring Cloud Starters</td><td></td><td></td><td>Spring Boot式的启动项目，为Spring Cloud提供开箱即用的依赖管理。</td></tr><tr><td>Spring Cloud Stream</td><td>数据流</td><td></td><td>创建消息驱动微服务应用的框架，使用spring integration提供与消息代理之间的连接。数据流操作开发包，任务之间通过事件触发</td></tr><tr><td>Spring Cloud Task</td><td>批量任务</td><td></td><td>主要解决短命微服务的任务管理，任务调度的工作，比如说某些定时任务晚上就跑一次，或者某项数据分析临时就跑几次。</td></tr></tbody></table>",1),un={href:"https://github.com/apolloconfig",target:"_blank",rel:"noopener noreferrer"},gn={href:"https://github.com/ctripcorp/apollo",target:"_blank",rel:"noopener noreferrer"},hn={href:"https://github.com/apache/incubator-shenyu",target:"_blank",rel:"noopener noreferrer"},bn={href:"https://github.com/siaorg/sia-gateway",target:"_blank",rel:"noopener noreferrer"},kn={href:"https://github.com/apache/flume",target:"_blank",rel:"noopener noreferrer"},mn={href:"https://flume.liyifeng.org",target:"_blank",rel:"noopener noreferrer"},_n={href:"https://github.com/fayechenlong/plumelog",target:"_blank",rel:"noopener noreferrer"},fn={href:"https://blog.csdn.net/piantoutongyang/article/details/88811840",target:"_blank",rel:"noopener noreferrer"},vn={href:"https://juejin.im/post/5d84a83af265da03ee6a92af",target:"_blank",rel:"noopener noreferrer"},Sn={href:"https://blog.csdn.net/noaman_wgs/article/details/103328793",target:"_blank",rel:"noopener noreferrer"},yn=t("h2",{id:"spring-security",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#spring-security","aria-hidden":"true"},"#"),n(" Spring Security")],-1),wn={href:"https://docs.spring.io/spring-security/site/docs/4.2.7.RELEASE/reference/html/core-web-filters.html#form-login-flow-handling",target:"_blank",rel:"noopener noreferrer"},Cn={href:"https://docs.spring.io/spring-security/site/docs/5.3.1.RELEASE/reference/html5/#servlet-security-filters",target:"_blank",rel:"noopener noreferrer"},An={href:"https://docs.spring.io/spring-security/site/docs/5.3.1.RELEASE/reference/html5/#filter-stack",target:"_blank",rel:"noopener noreferrer"},En={href:"https://github.com/topics/spring-security",target:"_blank",rel:"noopener noreferrer"},qn={href:"https://github.com/Snailclimb/spring-security-jwt-guide",target:"_blank",rel:"noopener noreferrer"},xn=r(`<p><strong>拦截器和过滤器区别</strong></p><ul><li>拦截器（Interceptor）：依赖于web框架，在实现上,基于Java的反射机制，拦截的是action，说白了拦截的是访问路径</li><li>过滤器（Filter）：依赖于servlet容器。在实现上，基于函数回调，可以几乎过滤掉所有的东西</li></ul><blockquote><p>拦截器与过滤器的执行顺序：过滤前 -&gt; 拦截前 -&gt; action执行 -&gt; 拦截后 -&gt; 过滤后</p></blockquote><ul><li>过滤器可以修改request，拦截器只能对action请求起作用</li><li>过滤器需要在servlet容器中实现，拦截器可以适用于javaEE，javaSE等各种环境</li><li>拦截器可以调用IOC容器中的各种依赖，而过滤器不能</li><li>过滤器只能在请求的前后使用，而拦截器可以详细到每个方法</li></ul><h2 id="spring-taskscheduler" tabindex="-1"><a class="header-anchor" href="#spring-taskscheduler" aria-hidden="true">#</a> Spring TaskScheduler</h2><ul><li><code>Spring Scheduling Tasks</code> Spring 3.0 版本之后自带的一个定时任务。其所属Spring的资源包为：<code>spring-context-support</code></li></ul><blockquote><p>可以将它看成一个轻量级的<code>Quartz</code>，而且使用起来比Quartz简单许多。默认单线程串行执行任务，多任务时若某个任务执行时间过长， 后续任务会无法及时执行；抛出异常后，同一个任务后续不再触发</p></blockquote><ul><li><code>Spring Quartz</code> Spring集成整合<code>Quartz</code>，主要Bean: <code>JobDetail</code>、<code>Trigger</code>以及<code>SchedulerFactory</code>，<code>JobDataMap</code>数据传递</li></ul><blockquote><p>需要继承<code>org.springframework.scheduling.quartz.QuartzJobBean</code>或者实现<code>org.quartz.Job</code>。采用多线程，下一个调度时间到达时， 会另起一个线程执行调度，不会发生阻塞问题，但调度过多时可能导致数据处理异常，抛出异常后，同一个任务后续仍然会触发</p></blockquote><ul><li><code>TBSchedule</code></li></ul><h2 id="spring-mvc" tabindex="-1"><a class="header-anchor" href="#spring-mvc" aria-hidden="true">#</a> Spring MVC</h2><p><strong>redirect重定向</strong></p><blockquote><p>redirect重定向可以跳转到任意服务器地址，传递时要对中文编码进行处理</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">,</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">testredirect</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;/index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 参数可以直接拼接在url上</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testredirect&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testredirect</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">,</span> <span class="token class-name">RedirectAttributes</span> attr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	attr<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;51gjie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 跳转地址带参数</span>
    attr<span class="token punctuation">.</span><span class="token function">addFlashAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;u2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;51gjie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 跳转地址不带参数，只存在body中</span>
	<span class="token keyword">return</span> <span class="token string">&quot;redirect:/user/users&quot;</span><span class="token punctuation">;</span><span class="token comment">// 参数可以直接拼接在url上</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/toredirect&quot;</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">,</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span>  <span class="token class-name">ModelAndView</span> <span class="token function">toredirect</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">ModelAndView</span>  model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token string">&quot;/main/index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 参数可以直接拼接在url上</span>
    <span class="token comment">// 把userName参数带入到controller的RedirectAttributes中</span>
    model<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span> userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> model<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spring-aop原理" tabindex="-1"><a class="header-anchor" href="#spring-aop原理" aria-hidden="true">#</a> Spring AOP原理</h2><ol><li>AOP: 其实现的关键就在于 AOP 框架自动创建的 AOP 代理，AOP 代理则可分为静态代理和动态代理两大类 <ol><li>其中静态代理是指使用 AOP 框架提供的命令进行编译，从而在编译阶段就可生成 AOP 代理类，因此也称为编译时增强；静态代理分为：编译时织入（特殊编译器实现）、类加载时织入（特殊的类加载器实现）。静态代理的代表为AspectJ；</li><li>而动态代理则在运行时借助于 JDK 动态代理、CGLIB 等在内存中“临时”生成 AOP 动态代理类，因此也被称为运行时增强。动态代理分为：JDK动态代理（基于接口来实现）、CGLib（基于类实现）。而动态代理则以Spring AOP为代表。</li></ol></li><li>Spring AOP：只支持动态代理，通过两种方式进行实现： <ol><li>JDK动态代理，通过反射实现，只支持对实现接口的类进行代理</li><li>CGLib动态字节码注入方式实现代理。</li></ol></li></ol><h2 id="jdk动态代理" tabindex="-1"><a class="header-anchor" href="#jdk动态代理" aria-hidden="true">#</a> JDK动态代理:</h2><p>JDK中的动态代理是通过反射类Proxy反射机制生成一个实现代理接口的匿名类，在调用具体方法前调用InvocationHandler回调接口实现的，但是JDK中所有要进行动态代理的类必须要实现一个接口，也就是说只能对该类所实现接口中定义的方法进行代理，这在实际编程中有一定的局限性，而且使用反射的效率也不高</p><h2 id="cglib" tabindex="-1"><a class="header-anchor" href="#cglib" aria-hidden="true">#</a> Cglib</h2><p>cglib动态代理是利用asm开源包，对代理对象类的class文件加载进来，通过修改其字节码生成子类来处理。</p><p>动态生成一个要代理的子类，子类重写要代理的类的所有不是final的方法。在子类中采用方法拦截技术拦截所有的父类方法的调用，顺势织入横切逻辑</p><p>ASM是一个java字节码操纵框架，它能被用来动态生成类或者增强既有类的功能。ASM 可以直接产生二进制 class 文件，也可以在类被加载入 Java 虚拟机之前动态改变类行为</p><h2 id="lombok原理" tabindex="-1"><a class="header-anchor" href="#lombok原理" aria-hidden="true">#</a> Lombok原理</h2><ol><li>定义编译期的注解 <code>@Retention(RetentionPolicy.SOURCE)</code></li><li>利用<code>JSR269 api(Pluggable Annotation Processing API )</code>编译期的注解处理器 （AbstractProcessor在编译时指定一个processor类来对编译阶段的注解进行干预，Lombok的注解处理器：AnnotationProcessor）</li><li>利用<code>tools.jar</code>的<code>javac</code> api处理<code>AST</code>(抽象语法树)，将功能注册进jar包</li></ol>`,24);function Rn(jn,Bn){const e=l("router-link"),a=l("ExternalLinkIcon");return p(),c("div",null,[g,t("nav",h,[t("ul",null,[t("li",null,[s(e,{to:"#flag"},{default:o(()=>[n("Flag")]),_:1})]),t("li",null,[s(e,{to:"#事务"},{default:o(()=>[n("事务")]),_:1})]),t("li",null,[s(e,{to:"#依赖注入"},{default:o(()=>[n("依赖注入")]),_:1})]),t("li",null,[s(e,{to:"#spring-boot"},{default:o(()=>[n("Spring Boot")]),_:1}),t("ul",null,[t("li",null,[s(e,{to:"#默认依赖管理"},{default:o(()=>[n("默认依赖管理")]),_:1})]),t("li",null,[s(e,{to:"#配置方式"},{default:o(()=>[n("配置方式")]),_:1})])])]),t("li",null,[s(e,{to:"#starters"},{default:o(()=>[n("Starters")]),_:1})]),t("li",null,[s(e,{to:"#spring-cloud"},{default:o(()=>[n("Spring Cloud")]),_:1})]),t("li",null,[s(e,{to:"#spring-security"},{default:o(()=>[n("Spring Security")]),_:1})]),t("li",null,[s(e,{to:"#spring-taskscheduler"},{default:o(()=>[n("Spring TaskScheduler")]),_:1})]),t("li",null,[s(e,{to:"#spring-mvc"},{default:o(()=>[n("Spring MVC")]),_:1})]),t("li",null,[s(e,{to:"#spring-aop原理"},{default:o(()=>[n("Spring AOP原理")]),_:1})]),t("li",null,[s(e,{to:"#jdk动态代理"},{default:o(()=>[n("JDK动态代理:")]),_:1})]),t("li",null,[s(e,{to:"#cglib"},{default:o(()=>[n("Cglib")]),_:1})]),t("li",null,[s(e,{to:"#lombok原理"},{default:o(()=>[n("Lombok原理")]),_:1})])])]),b,t("blockquote",null,[t("p",null,[t("a",k,[n("是时候给大家介绍 Spring Boot/Cloud 背后豪华的研发团队了"),s(a)])])]),t("ul",null,[t("li",null,[t("a",m,[n("https://github.com/topics/spring"),s(a)])]),t("li",null,[t("a",_,[n("https://github.com/topics/spring-boot"),s(a)])]),t("li",null,[t("a",f,[n("https://github.com/topics/spring-cloud"),s(a)])])]),t("ul",null,[t("li",null,[t("a",v,[n("https://github.com/spring-projects"),s(a)]),t("ul",null,[t("li",null,[t("a",S,[n("https://spring.io/projects"),s(a)])])])]),t("li",null,[t("a",y,[n("https://github.com/spring-projects-experimental"),s(a)])]),t("li",null,[t("a",w,[n("https://github.com/spring-guides"),s(a)])]),t("li",null,[t("a",C,[n("https://github.com/fmarchioni/masterspringboot"),s(a)])])]),t("ul",null,[t("li",null,[t("a",A,[n("https://github.com/wuyouzhuguli/SpringAll"),s(a)]),t("ul",null,[t("li",null,[t("a",E,[n("http://www.spring4all.com"),s(a)])])])]),t("li",null,[t("a",q,[n("https://github.com/mingyang66/spring-parent"),s(a)])]),t("li",null,[n("Spring源码阅读 "),t("a",x,[n("https://github.com/seaswalker/spring-analysis"),s(a)])]),t("li",null,[n("Spring 实战第五版中文翻译 "),t("a",R,[n("https://github.com/PotoYang/spring-in-action-v5-translate"),s(a)])]),t("li",null,[t("a",j,[n("https://github.com/dunwu/spring-tutorial"),s(a)])])]),t("ul",null,[t("li",null,[t("a",B,[n("SpringCloud和Dubbo"),s(a)])]),t("li",null,[t("a",D,[n("SpringCache自定义过期时间及自动刷新"),s(a)])]),t("li",null,[t("a",P,[n("Spring揭秘学习笔记"),s(a)])])]),T,t("ul",null,[t("li",null,[t("a",M,[n("Spring WebFlux快速上手"),s(a)])])]),t("ul",null,[t("li",null,[t("a",I,[n("Spring MVC or WebFlux?"),s(a)])])]),O,t("ul",null,[t("li",null,[t("a",L,[n("修改Spring注解生成Bean时候的命名方式"),s(a)])])]),N,z,J,t("ul",null,[t("li",null,[t("a",F,[n("org.springframework.transaction.annotation.Propagation"),s(a)])])]),t("ul",null,[t("li",null,[t("a",V,[n("Spring事务嵌套导致的异常,Transaction rolled back because it has been marked as rollback-only"),s(a)])]),t("li",null,[t("a",Q,[n("Spring事务嵌套引发的血案---Transaction rolled back because it has been marked as rollback-only"),s(a)])]),t("li",null,[t("a",U,[n("Spring事务方法嵌套引发的异常与问题分析"),s(a)])]),t("li",null,[t("a",W,[n("Spring事务管理嵌套事务详解 : 同一个类中，一个方法调用另外一个有事务的方法"),s(a)])]),t("li",null,[t("a",H,[n("Spring 事务嵌套无效"),s(a)])]),t("li",null,[t("a",K,[n("spring嵌套事务问题"),s(a)])])]),G,t("ul",null,[t("li",null,[n("@Autowired "),t("ul",null,[t("li",null,[n("Field （属性变量）"),t("a",X,[n("Field injection is not recommended（不再推荐使用字段注入）"),s(a)])]),Z,Y])]),$,tt]),t("ul",null,[t("li",null,[t("a",nt,[n("这几个关于Spring 依赖注入的问题你清楚吗？"),s(a)])]),t("li",null,[t("a",st,[n("Field injection is not recommended（Spring IOC不再推荐使用属性注入）"),s(a)])]),t("li",null,[t("a",at,[n("IDEA 警告 Field injection is not recommended"),s(a)])]),t("li",null,[t("a",et,[n("Field injection is not recommended"),s(a)])]),t("li",null,[t("a",ot,[n("@Autowired警告：Field injection is not recommended"),s(a)])]),t("li",null,[t("a",rt,[n("使用@Autowired注解警告Field injection is not recommended"),s(a)])])]),t("ul",null,[t("li",null,[t("a",lt,[n("Spring中获取request的几种方法，及其线程安全性分析"),s(a)])])]),it,t("ul",null,[t("li",null,[t("a",pt,[n("https://github.com/dyc87112/SpringBoot-Learning"),s(a)])]),t("li",null,[t("a",ct,[n("https://github.com/macrozheng/mall-learning"),s(a)]),t("ul",null,[t("li",null,[t("a",dt,[n("https://macrozheng.github.io/mall-learning"),s(a)])])])]),t("li",null,[t("a",ut,[n("https://github.com/vector4wang/spring-boot-quick"),s(a)])]),t("li",null,[t("a",gt,[n("https://github.com/kanyways/learning-spring"),s(a)])]),t("li",null,[t("a",ht,[n("https://github.com/gf-huanchupk/SpringBootLearning"),s(a)])]),t("li",null,[t("a",bt,[n("https://github.com/lyb-geek/springboot-learning"),s(a)])]),t("li",null,[t("a",kt,[n("https://github.com/xkcoding/spring-boot-demo"),s(a)])]),t("li",null,[t("a",mt,[n("https://github.com/xuwujing/springBoot-study"),s(a)])]),t("li",null,[t("a",_t,[n("https://github.com/houko/SpringBootUnity"),s(a)])]),t("li",null,[t("a",ft,[n("https://github.com/hemin1003/spring-boot-study"),s(a)])]),t("li",null,[t("a",vt,[n("https://github.com/smltq/spring-boot-demo"),s(a)])]),t("li",null,[t("a",St,[n("https://github.com/liuyueyi/spring-boot-demo"),s(a)])]),t("li",null,[t("a",yt,[n("https://github.com/TianShengBingFeiNiuRen/springboot-util"),s(a)])]),t("li",null,[t("a",wt,[n("https://github.com/WinterChenS/springboot-learning-experience"),s(a)])])]),t("ul",null,[t("li",null,[t("a",Ct,[n("Springboot 优雅停止服务的几种方法"),s(a)])]),t("li",null,[t("a",At,[n("SpringBoot系列: 如何优雅停止服务"),s(a)])]),t("li",null,[t("a",Et,[n("Spring Boot 2.3 新特性优雅停机详解"),s(a)])])]),t("ul",null,[t("li",null,[t("a",qt,[n("Spring Boot 监听 Redis Key 失效事件实现定时任务"),s(a)])]),t("li",null,[t("a",xt,[n("Spring Boot 无侵入式 实现API接口统一JSON格式返回"),s(a)])])]),Rt,t("ul",null,[t("li",null,[t("a",jt,[n("Spring Boot 加载配置多种方式"),s(a)])])]),Bt,t("ul",null,[t("li",null,[t("a",Dt,[n("Spring Boot Starter说明"),s(a)])])]),Pt,t("ul",null,[t("li",null,[t("a",Tt,[n("https://start.aliyun.com"),s(a)])])]),t("ul",null,[t("li",null,[t("a",Mt,[n("https://github.com/pig-mesh/excel-spring-boot-starter"),s(a)])])]),It,t("ul",null,[t("li",null,[t("a",Ot,[n("https://github.com/spring-cloud"),s(a)])]),t("li",null,[t("a",Lt,[n("https://github.com/spring-cloud-samples"),s(a)])]),t("li",null,[t("a",Nt,[n("https://github.com/macrozheng/springcloud-learning"),s(a)])]),t("li",null,[t("a",zt,[n("https://github.com/dyc87112/SpringCloud-Learning"),s(a)])]),t("li",null,[t("a",Jt,[n("https://github.com/gf-huanchupk/SpringCloudLearning"),s(a)])]),t("li",null,[t("a",Ft,[n("https://github.com/2227324689/Spring-Cloud-Alibaba-"),s(a)])]),t("li",null,[t("a",Vt,[n("https://github.com/SpringCloud"),s(a)])]),t("li",null,[t("a",Qt,[n("https://github.com/venusteam"),s(a)])]),t("li",null,[t("a",Ut,[n("https://github.com/forezp/SpringCloudLearning"),s(a)])]),t("li",null,[t("a",Wt,[n("https://github.com/sqshq/piggymetrics"),s(a)])]),t("li",null,[t("a",Ht,[n("https://github.com/huaweicloud"),s(a)])]),t("li",null,[t("a",Kt,[n("https://github.com/sofastack"),s(a)])]),t("li",null,[t("a",Gt,[n("https://github.com/zlt2000/microservices-platform"),s(a)])]),t("li",null,[t("a",Xt,[n("https://github.com/chillzhuang/blade-tool"),s(a)])]),t("li",null,[t("a",Zt,[n("https://gitee.com/smallc"),s(a)])])]),t("ul",null,[t("li",null,[t("a",Yt,[n("SpringCloud组件和概念介绍"),s(a)])]),t("li",null,[t("a",$t,[n("springcloud核心组件介绍"),s(a)])]),t("li",null,[t("a",tn,[n("一文读懂SpringCloud与Eureka，Feign，Ribbon，Hystrix，Zuul核心组件间的关系"),s(a)])]),t("li",null,[t("a",nn,[n("springcloudの核心组件Eureka、Ribbon、Feign、Hystrix、Zuul"),s(a)])]),t("li",null,[t("a",sn,[n("Spring Cloud Alibaba与Spring Boot、Spring Cloud之间不得不说的版本关系"),s(a)])]),t("li",null,[t("a",an,[n("https://www.springcloud.cc"),s(a)])]),t("li",null,[t("a",en,[n("聊聊分布式链路追踪"),s(a)])])]),t("ul",null,[t("li",null,[t("p",null,[t("a",on,[n("冒着挂科的风险也要给你们看的 Spring Cloud 入门总结"),s(a)])])]),rn]),ln,t("ul",null,[t("li",null,[t("a",pn,[n("https://github.com/hashicorp/consul"),s(a)]),t("ul",null,[t("li",null,[n("Consul免费注册中心 "),t("a",cn,[n("https://portal.cloud.hashicorp.com"),s(a)])])])])]),dn,t("ul",null,[t("li",null,[t("a",un,[n("https://github.com/apolloconfig"),s(a)])]),t("li",null,[t("a",gn,[n("https://github.com/ctripcorp/apollo"),s(a)])]),t("li",null,[n("API网关 "),t("a",hn,[n("https://github.com/apache/incubator-shenyu"),s(a)])]),t("li",null,[t("a",bn,[n("https://github.com/siaorg/sia-gateway"),s(a)])]),t("li",null,[n("日志收集 "),t("a",kn,[n("https://github.com/apache/flume"),s(a)]),t("ul",null,[t("li",null,[t("a",mn,[n("https://flume.liyifeng.org"),s(a)])])])]),t("li",null,[t("a",_n,[n("https://github.com/fayechenlong/plumelog"),s(a)])])]),t("ul",null,[t("li",null,[t("a",fn,[n("分布式日志框架ELK入门"),s(a)])]),t("li",null,[t("a",vn,[n("SpringCloud实践分享 日志收集Kafka ELK"),s(a)])]),t("li",null,[t("a",Sn,[n("【Sentinel（一）】Sentinel介绍与使用"),s(a)])])]),yn,t("ul",null,[t("li",null,[t("a",wn,[n("认证成功与失败的处理器"),s(a)])]),t("li",null,[t("a",Cn,[n("过滤器列表"),s(a)])]),t("li",null,[t("a",An,[n("标准过滤器别名和顺序"),s(a)])])]),t("ul",null,[t("li",null,[t("a",En,[n("https://github.com/topics/spring-security"),s(a)])]),t("li",null,[t("a",qn,[n("https://github.com/Snailclimb/spring-security-jwt-guide"),s(a)])])]),xn])}const Tn=i(u,[["render",Rn],["__file","Spring.html.vue"]]);export{Tn as default};
