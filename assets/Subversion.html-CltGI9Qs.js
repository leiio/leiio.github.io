import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as c,c as d,b as n,a as s,w as i,d as e,f as t}from"./app-BGG14fOW.js";const p={},u=n("h1",{id:"svn安装使用",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#svn安装使用","aria-hidden":"true"},"#"),e(" SVN安装使用")],-1),v={class:"table-of-contents"},m=n("h2",{id:"flag",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#flag","aria-hidden":"true"},"#"),e(" Flag")],-1),b={href:"https://github.com/topics/subversion",target:"_blank",rel:"noopener noreferrer"},h={href:"https://github.com/apache/subversion",target:"_blank",rel:"noopener noreferrer"},k={href:"https://subversion.apache.org",target:"_blank",rel:"noopener noreferrer"},g={href:"https://www.visualsvn.com",target:"_blank",rel:"noopener noreferrer"},f={href:"https://tortoisesvn.net/downloads.html",target:"_blank",rel:"noopener noreferrer"},_=t("<blockquote><p>按装<code>VisualSVN</code>后客户端使用报错：<code>执行上下文错误: 由于目标计算机积极拒绝，无法连接。</code>，需要在<code>服务</code>列表中找到相关服务 -&gt; 右键打开属性 -&gt; 点击登录页签修改<code>登录身份</code>为<code>本地系统账户</code> -&gt; 点击常规页签修改<code>启动类型</code>为<code>自启动</code>，再点击启动</p></blockquote>",1),w={href:"https://www.collab.net/downloads/subversion",target:"_blank",rel:"noopener noreferrer"},x={href:"http://sharpsvn.open.collab.net",target:"_blank",rel:"noopener noreferrer"},q={href:"https://blog.csdn.net/weixin_52588152/article/details/111659773",target:"_blank",rel:"noopener noreferrer"},S={href:"https://www.wandisco.com/source-code-management/subversion",target:"_blank",rel:"noopener noreferrer"},V={href:"https://sliksvn.com/pub",target:"_blank",rel:"noopener noreferrer"},N={href:"https://github.com/jenkinsci/subversion-plugin",target:"_blank",rel:"noopener noreferrer"},E={href:"https://svnbucket.com/posts",target:"_blank",rel:"noopener noreferrer"},j={href:"https://blog.csdn.net/justry_deng/article/details/82259470",target:"_blank",rel:"noopener noreferrer"},z=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># SVN不同分支，进行比对</span>
svn <span class="token function">diff</span> <span class="token parameter variable">-r</span> <span class="token number">1100</span>:1323
<span class="token comment"># 获取所有SVN提交作者用户名的列表</span>
<span class="token comment"># https://stackoverflow.com/questions/2494984/how-to-get-a-list-of-all-subversion-commit-author-usernames</span>
svn log <span class="token parameter variable">--quiet</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;/^r/ {print $3}&#39;</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span>
svn log <span class="token parameter variable">--quiet</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;^r&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $3}&#39;</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>选中要比对的一个分支，<kbd>Shift</kbd>+右键+选中<code>TorsoiseSVN</code> -&gt; <code>diff with url</code>，然后填入另外一个要比对的分支url即可</p></blockquote><h2 id="linux安装" tabindex="-1"><a class="header-anchor" href="#linux安装" aria-hidden="true">#</a> Linux安装</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 检查已安装</span>
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> subversion
<span class="token comment"># 安装</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> subversion
<span class="token comment"># 查看已安装版本</span>
svnserve <span class="token parameter variable">--version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>创建代码库</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 建立SVN版本库目录</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/svn/svnrepos/test
<span class="token comment"># 创建SVN版本库</span>
svnadmin create /home/svn/svnrepos/test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>执行上面的命令后，自动建立<code>svndata</code>库， <code>/home/svn/svnrepos/test</code>文件夹包含了<code>conf</code>、<code>db</code>、<code>format</code>、<code>hooks</code>、<code>locks</code>、<code>README.txt</code>等文件，说明一个SVN库已经建立。</p></blockquote><p><strong>配置代码库</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 进入\`conf\`文件夹</span>
<span class="token builtin class-name">cd</span> /home/svn/svnrepos/test/conf
<span class="token comment"># 配置用户密码\`passwd\`</span>
<span class="token function">vi</span> <span class="token function">passwd</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在<code>[users]</code>节点下添加以下内容(账户=密码)</li></ul><div class="language-conf line-numbers-mode" data-ext="conf"><pre class="language-conf"><code># 账户=密码
bajins.com=bajins.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>配置权限控制<code>authz</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vi</span> authz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>目的是设置哪些用户可以访问哪些目录，向<code>authz</code>文件末尾追加以下内容：</p><blockquote><p>设置<code>[/]</code>代表根目录下所有的资源,<code>rw</code>为读和写，<code>*</code>代表所有用户,先按<code>shift+g</code>跳到末尾，然后添加</p></blockquote></blockquote><div class="language-conf line-numbers-mode" data-ext="conf"><pre class="language-conf"><code>[/]
bajins.com=rw
*=r
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>配置服务<code>svnserve.conf</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vi</span> svnserve.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>在<code>[general]</code>节点下追加以下内容</p></blockquote><div class="language-conf line-numbers-mode" data-ext="conf"><pre class="language-conf"><code># 匿名访问的权限，可以是read,write,none,默认为read
anon-access=none
# 使授权用户有写权限
auth-access=write
# 密码数据库的路径
password-db=passwd
# 访问控制文件
authz-db=authz
# 认证命名空间，subversion会在认证提示里显示，并且作为凭证缓存的关键字
realm = This Is A Repository
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>如果需要创建多个库就需要重复做上面2、3步，并且最后一个目录名是不一样的</p></blockquote><ul><li>建立第2个SVN版本库目录</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/svn/svnrepos/test2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>创建第2个SVN版本库</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>svnadmin create /home/svn/svnrepos/test2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>启动</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>svnserve <span class="token parameter variable">-d</span> <span class="token parameter variable">-r</span> /home/svn/svnrepos/
<span class="token comment"># 查看SVN进程</span>
<span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> svn
<span class="token comment"># 检测SVN端口</span>
<span class="token function">netstat</span> -antlp<span class="token operator">|</span><span class="token function">grep</span> svnserve
<span class="token comment"># 放开端口</span>
firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">3690</span>/tcp <span class="token parameter variable">--permanent</span>
firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>连接地址：<code>svn://host:port/仓库名</code></strong></p><p><strong>停止SVN</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 查找svnserve进程（PID）</span>
<span class="token function">ps</span> <span class="token parameter variable">-aux</span> <span class="token operator">|</span> <span class="token function">grep</span> svnserve
<span class="token comment"># 结束进程</span>
<span class="token function">kill</span> <span class="token parameter variable">-9</span> PID
<span class="token comment">#或者</span>
<span class="token function">killall</span> svnserve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,29);function I(T,y){const o=l("router-link"),a=l("ExternalLinkIcon");return c(),d("div",null,[u,n("nav",v,[n("ul",null,[n("li",null,[s(o,{to:"#flag"},{default:i(()=>[e("Flag")]),_:1})]),n("li",null,[s(o,{to:"#linux安装"},{default:i(()=>[e("Linux安装")]),_:1})])])]),m,n("ul",null,[n("li",null,[n("a",b,[e("https://github.com/topics/subversion"),s(a)])])]),n("ul",null,[n("li",null,[n("a",h,[e("https://github.com/apache/subversion"),s(a)]),n("ul",null,[n("li",null,[n("a",k,[e("https://subversion.apache.org"),s(a)])]),n("li",null,[e("windows服务端 "),n("a",g,[e("https://www.visualsvn.com"),s(a)])]),n("li",null,[n("a",f,[e("https://tortoisesvn.net/downloads.html"),s(a)])])])])]),_,n("ul",null,[n("li",null,[e("Edge：RESTful API "),n("a",w,[e("https://www.collab.net/downloads/subversion"),s(a)]),n("ul",null,[n("li",null,[n("a",x,[e("http://sharpsvn.open.collab.net"),s(a)])]),n("li",null,[n("a",q,[e("如何在windows系统下搭建SVN服务器"),s(a)])])])]),n("li",null,[n("a",S,[e("https://www.wandisco.com/source-code-management/subversion"),s(a)])]),n("li",null,[n("a",V,[e("https://sliksvn.com/pub"),s(a)])]),n("li",null,[n("a",N,[e("https://github.com/jenkinsci/subversion-plugin"),s(a)])])]),n("ul",null,[n("li",null,[e("SVN教程 "),n("a",E,[e("https://svnbucket.com/posts"),s(a)])]),n("li",null,[n("a",j,[e("TortoiseSVN打分支、合并分支、切换分支"),s(a)])])]),z])}const B=r(p,[["render",I],["__file","Subversion.html.vue"]]);export{B as default};
